<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resultados - Confraterniza√ß√£o GS1</title>
<style>
  body { background:#141414; color:white; font-family:Arial; text-align:center; }
  table { width:80%; margin:auto; border-collapse:collapse; margin-top:20px; }
  th, td { border:1px solid #444; padding:10px; }
  th { background:#e50914; }
</style>
</head>
<body>
  <h1>üèÜ Ranking de Fantasias</h1>
  <table>
    <thead><tr><th>Fantasia</th><th>Nome</th><th>Votos</th></tr></thead>
    <tbody id="ranking"></tbody>
  </table>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwrkLD_b5bH_pNQJ2_Md4ng82SmBSrY_lagx7FVaFz9FmCh8Rv7EmnzhtHpa_ooQN5etA/exec";
    const ranking = document.getElementById("ranking");

    async function atualizar() {
      const data = await fetch(scriptURL).then(r=>r.json());
      data.sort((a,b) => b.voto - a.voto);
      ranking.innerHTML = data.map(p => `
        <tr>
          <td>${p.fantasia}</td>
          <td>${p.nome}</td>
          <td>${p.voto}</td>
        </tr>
      `).join('');
    }

    atualizar();
    setInterval(atualizar, 5000); // atualiza a cada 5 segundos
  </script>
</body>
</html>
