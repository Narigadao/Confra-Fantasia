<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Resultados - Confraterniza√ß√£o GS1</title>
  <link rel="stylesheet" href="style.css">
  <meta http-equiv="refresh" content="10"> <!-- atualiza a cada 10 segundos -->
</head>
<body>
  <header>üìä Resultados - Confraterniza√ß√£o GS1</header>
  <div class="container" id="ranking">Carregando resultados...</div>

  <script>
    const scriptURL = "COLE_AQUI_SEU_LINK_DO_APPS_SCRIPT";

    async function carregar() {
      const res = await fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify({ action: "listar" })
      });
      const data = await res.json();
      const ranking = data.sort((a,b) => b.votos - a.votos);

      const div = document.getElementById('ranking');
      div.innerHTML = '<h2>Ranking Atual</h2>';
      ranking.forEach((r, i) => {
        div.innerHTML += `<p>${i+1}Ô∏è‚É£ <b>${r.fantasia}</b> ‚Äî ${r.votos} votos</p>`;
      });
    }

    carregar();
  </script>
</body>
</html>
