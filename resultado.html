<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Resultados - Confraterniza√ß√£o GS1</title>
<style>
body {
  margin: 0; background: black; color: white; font-family: Arial, sans-serif; text-align: center;
}
h1 { color: #E50914; margin-top: 30px; }
table {
  margin: 20px auto; border-collapse: collapse; width: 80%; max-width: 800px;
  color: white; font-size: 22px;
}
th, td { padding: 12px; border-bottom: 1px solid #333; }
th { color: #E50914; }
tr:nth-child(even) { background: #181818; }
</style>
</head>
<body>
  <h1>üèÜ Resultados em Tempo Real üèÜ</h1>
  <div id="tabela"></div>

  <script>
  const api = "https://script.google.com/macros/s/AKfycbwa5XUEKEiT60kX3oy0svmxNLwOWT9J8f_vvlOxYGkIms1iyP-MjPdIGi1ddoqbVK3jVQ/exec";

  async function atualizar() {
    const res = await fetch(api);
    const dados = await res.json();
    dados.sort((a, b) => b.voto - a.voto);

    let html = "<table><tr><th>Nome</th><th>Fantasia</th><th>Votos</th></tr>";
    dados.forEach(p => {
      html += `<tr><td>${p.nome}</td><td>${p.fantasia}</td><td>${p.voto}</td></tr>`;
    });
    html += "</table>";

    document.getElementById("tabela").innerHTML = html;
  }

  setInterval(atualizar, 5000);
  atualizar();
  </script>
</body>
</html>
