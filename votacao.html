<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VotaÃ§Ã£o - ConfraternizaÃ§Ã£o GS1</title>
<style>
  body { background:#141414; color:white; font-family:Arial; text-align:center; }
  .card { background:#1f1f1f; margin:10px auto; padding:15px; width:80%; border-radius:10px; }
  button { background:#e50914; color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer; }
  button:hover { background:#b0060f; }
</style>
</head>
<body>
  <h1>ðŸŽ­ Vote na Melhor Fantasia!</h1>
  <div id="lista"></div>
  
  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwrkLD_b5bH_pNQJ2_Md4ng82SmBSrY_lagx7FVaFz9FmCh8Rv7EmnzhtHpa_ooQN5etA/exec";
    const lista = document.getElementById("lista");

    fetch(scriptURL)
      .then(res => res.json())
      .then(data => {
        lista.innerHTML = data.map(p => `
          <div class="card">
            <h3>${p.fantasia}</h3>
            <p>por ${p.nome}</p>
            <button onclick="votar('${p.fantasia}')">Votar</button>
          </div>
        `).join('');
      });

    function votar(fantasia) {
      const form = new FormData();
      form.append("action", "votar");
      form.append("fantasia", fantasia);

      fetch(scriptURL, { method: "POST", body: form })
        .then(r => r.text())
        .then(() => alert("âœ… Voto computado com sucesso!"));
    }
  </script>
</body>
</html>
