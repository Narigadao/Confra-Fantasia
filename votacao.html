<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Confraterniza√ß√£o GS1 - Vota√ß√£o</title>
<style>
body { background: #0a0a0a; color: white; font-family: Arial; text-align: center; padding: 40px; }
button { margin: 5px; padding: 10px; border-radius: 8px; border: none; background: #0078ff; color: white; cursor: pointer; }
.card {
  background: #111; border-radius: 12px; padding: 15px; margin: 10px auto; width: 90%; max-width: 400px;
}
</style>
</head>
<body>
  <h1>Vota√ß√£o üé≠</h1>
  <div id="lista"></div>

  <script>
  const api = "https://script.google.com/macros/s/AKfycbwrkLD_b5bH_pNQJ2_Md4ng82SmBSrY_lagx7FVaFz9FmCh8Rv7EmnzhtHpa_ooQN5etA/exec";

  async function carregar() {
    const res = await fetch(api);
    const dados = await res.json();
    const lista = document.getElementById('lista');
    lista.innerHTML = "";
    dados.forEach(p => {
      lista.innerHTML += `
        <div class="card">
          <h3>${p.nome}</h3>
          <p>${p.fantasia}</p>
          <button onclick="votar('${p.nome}')">Votar</button>
        </div>
      `;
    });
  }

  async function votar(nome) {
    await fetch(api, {
      method: "POST",
      body: JSON.stringify({ action: "votar", nome }),
      headers: { "Content-Type": "application/json" }
    });
    alert("Voto registrado para " + nome + "!");
  }

  carregar();
  </script>
</body>
</html>
