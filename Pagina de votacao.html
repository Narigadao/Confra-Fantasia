<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Vota√ß√£o - Melhor Fantasia</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom, #0b0c10, #1f2833);
    color: #fff;
    text-align: center;
    padding: 2rem;
  }

  h1 {
    color: #66fcf1;
  }

  .card {
    background: #1f2833;
    margin: 1rem auto;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 0 10px #45a29e;
    max-width: 400px;
  }

  button {
    background: #45a29e;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
  }

  button:hover {
    background: #66fcf1;
    color: #0b0c10;
  }

  #resultado {
    margin-top: 2rem;
    background: #0b0c10;
    padding: 1rem;
    border-radius: 10px;
    display: none;
  }
</style>
</head>
<body>
  <h1>üé≠ Vote na Melhor Fantasia!</h1>
  <div id="listaVotacao"></div>
  <button id="btnResultados">üìä Ver Resultados</button>

  <div id="resultado">
    <h2>üèÜ Ranking:</h2>
    <ul id="ranking"></ul>
  </div>

  <script>
    let inscritos = JSON.parse(localStorage.getItem("inscritos")) || [];
    const lista = document.getElementById("listaVotacao");
    const rankingDiv = document.getElementById("resultado");
    const rankingLista = document.getElementById("ranking");

    function votar(nome) {
      inscritos = inscritos.map(i => {
        if (i.nome === nome) i.votos++;
        return i;
      });
      localStorage.setItem("inscritos", JSON.stringify(inscritos));
      alert(`‚úÖ Voto computado para ${nome}!`);
    }

    function carregar() {
      lista.innerHTML = "";
      inscritos.forEach(i => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <h3>${i.nome}</h3>
          <p>Fantasia: ${i.fantasia}</p>
          <button onclick="votar('${i.nome}')">Votar</button>
        `;
        lista.appendChild(div);
      });
    }

    function mostrarResultados() {
      rankingDiv.style.display = "block";
      rankingLista.innerHTML = "";
      const ordenado = inscritos.sort((a, b) => b.votos - a.votos);
      ordenado.forEach(i => {
        const li = document.createElement("li");
        li.textContent = `${i.nome} - ${i.fantasia} (${i.votos} votos)`;
        rankingLista.appendChild(li);
      });
    }

    document.getElementById("btnResultados").addEventListener("click", mostrarResultados);
    carregar();
  </script>
</body>
</html>
